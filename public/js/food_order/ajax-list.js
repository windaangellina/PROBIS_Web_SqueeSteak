(()=>{function n(n,t){var a=t+"/list/json/rekapmenu";$.ajax({type:"get",url:a,responsive:!0,success:function(a){n.clear();var s=JSON.parse(JSON.stringify(a)),e=s.data.length;if("ongoing"==t)if(e>0)s.data.forEach((function(t){n.row.add([t.nama,t.jumlah])})),n.draw();else{var o='<div class="row mt-4 d-flex justify-content-center">\n                            <div class="col-sm-12 col-lg-4 text-center">\n                                <img src="'+urlGambarChef+'" class="img-responsive w-100" alt="">\n                            </div>\n                        </div>';$("#rowPageContent").html(o)}},error:function(n,t,a){},statusCode:{404:function(){}}})}function t(n,t){var a="http://127.0.0.1:8000/food-order/"+n+"/list/json/pesanan";$.ajax({type:"get",url:a,responsive:!0,success:function(a){var s="";JSON.parse(JSON.stringify(a)).data.forEach((function(a){var e=JSON.parse(JSON.stringify(a.detailpesanan));s+='<div class="col mb-4">\n                    <div class="card" style="min-height: 15rem;">\n                        <div class="card-header">\n                            <p class="card-title">\n                                <strong>\n                                    Meja '+a.nomor_meja+" / "+a.kode_order+'</strong>\n                            </p>\n                        </div>\n                        <div>\n                            <ul class="list-group list-group-flush">',e.forEach((function(a){var e=!0;"ongoing"==n?1!=a.status_diproses&&(e=!1):"all"==n&&0==a.status_diproses&&(e=!1),e&&(s+='<li class="list-group-item">\n                                        <div class="row">\n                                            <div class="col-sm-5 col-md-6 col-xl-7">\n                                                '+a.nama_menu+'\n                                            </div>\n                                            <div class="col text-left">\n                                                x '+a.jumlah+"\n                                            </div>",1==a.status_diproses&&(s+='<div class="col text-right">',"ongoing"==n?s+='<form method="POST">\n                                                    <input type="hidden" name="_token" value="'+t+'" />\n                                                        <button type="submit" class="btn btn-success" formaction="'+a.id+'/done">\n                                                            <i class="fas fa-check"></i>\n                                                        </button>\n                                                    </form>':"all"==n&&(s+='<button class="btn btn-secondary" disabled>\n                                                        <i class="fas fa-spinner"></i>\n                                                    </button>')),s+="</div>",null!=a.keterangan&&(s+='<div class="row">\n                                                <div class="col-12">\n                                                    <p class="ml-2 font-italic text-muted">'+a.keterangan+"</p>\n                                                </div>\n                                            </div>"),s+="</li>")})),s+="</ul>\n                        </div>","ongoing"==n&&(s+='<hr>\n                            <div class="text-center mb-3">\n                                <form method="POST">\n                                <input type="hidden" name="_token" value="'+t+'" />\n                                    <button type="submit" formaction="/customer-order/'+a.id+'/done-all" class="btn btn-primary w-75">\n                                        Sudah Selesai Semua\n                                    </button>\n                                </form>\n                            </div>'),s+="</div>\n                </div>"})),$("#containerCardPesanan").html(s)},error:function(n,t,a){},statusCode:{404:function(){}}})}var a=null;$(document).ready((function(){var s=$("#statusPesanan").val(),e=$('meta[name="csrf-token"]').attr("content");a=$("#dataTable").DataTable({columnDefs:[{className:"text-right",targets:[1]}]}),"ongoing"==s&&n(a,s),t(s,e),setInterval((function(){"ongoing"==s&&n(a,s),t(s,e)}),5e3)}))})();