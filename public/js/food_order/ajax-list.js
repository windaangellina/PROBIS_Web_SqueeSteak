(()=>{function n(n,t){var s=t+"/list/json/rekapmenu";$.ajax({type:"get",url:s,responsive:!0,success:function(s){n.clear();var a=JSON.parse(JSON.stringify(s)),e=a.data.length;if("ongoing"==t)if(e>0)a.data.forEach((function(t){n.row.add([t.nama,t.jumlah])})),n.draw();else{var o='<div class="row mt-4 d-flex justify-content-center">\n                            <div class="col-sm-12 col-lg-4 text-center">\n                                <img src="'+urlGambarChef+'" class="img-responsive w-100" alt="">\n                            </div>\n                        </div>';$("#rowPageContent").html(o)}},error:function(n,t,s){console.log("Status: "+t),console.log("Error: "+s),console.log("xhr: "+n.readyState)},statusCode:{404:function(){}}})}function t(n,t){var s="http://127.0.0.1:8000/food-order/"+n+"/list/json/pesanan";$.ajax({type:"get",url:s,responsive:!0,success:function(s){var a="";JSON.parse(JSON.stringify(s)).data.forEach((function(s){var e=JSON.parse(JSON.stringify(s.detailpesanan));a+='<div class="col mb-4">\n                    <div class="card" style="min-height: 15rem;">\n                        <div class="card-header">\n                            <p class="card-title">\n                                <strong>\n                                    Meja '+s.nomor_meja+" / "+s.kode_order+'</strong>\n                            </p>\n                        </div>\n                        <div>\n                            <ul class="list-group list-group-flush">',e.forEach((function(s){var e=!0;"ongoing"==n?1!=s.status_diproses&&(e=!1):"all"==n&&0==s.status_diproses&&(e=!1),e&&(a+='<li class="list-group-item">\n                                        <div class="row">\n                                            <div class="col-sm-5 col-md-6 col-xl-7">\n                                                '+s.nama_menu+'\n                                            </div>\n                                            <div class="col text-left">\n                                                x '+s.jumlah+"\n                                            </div>",1==s.status_diproses&&(a+='<div class="col text-right">',"ongoing"==n?a+='<form method="POST">\n                                                    <input type="hidden" name="_token" value="'+t+'" />\n                                                        <button type="submit" class="btn btn-success btnTextResponsive" formaction="'+s.id+'/done">\n                                                            <i class="fas fa-check"></i>\n                                                        </button>\n                                                    </form>':"all"==n&&(a+='<button class="btn btn-secondary btnTextResponsive" disabled>\n                                                        <i class="fas fa-clock"></i>\n                                                    </button>'),a+="</div>"),a+="</div>",null!=s.keterangan&&(a+='<div class="row">\n                                                <div class="col-12">\n                                                    <p class="ml-2 font-italic text-muted">'+s.keterangan+"</p>\n                                                </div>\n                                            </div>"),a+="</li>")})),a+="</ul>\n                        </div>","ongoing"==n&&(a+='<hr>\n                            <div class="text-center mb-3">\n                                <form method="POST">\n                                <input type="hidden" name="_token" value="'+t+'" />\n                                    <button type="submit" formaction="/customer-order/'+s.id+'/done-all" class="btn btn-primary w-75 btnTextResponsive">\n                                        Sudah Selesai Semua\n                                    </button>\n                                </form>\n                            </div>'),a+="</div>\n                </div>"})),$("#containerCardPesanan").html(a)},error:function(n,t,s){console.log("Status: "+t),console.log("Error: "+s),console.log("xhr: "+n.readyState)},statusCode:{404:function(){}}})}var s=null;$(document).ready((function(){var a=$("#statusPesanan").val(),e=$('meta[name="csrf-token"]').attr("content");s=$("#dataTable").DataTable({columnDefs:[{className:"text-right",targets:[1]}]}),"ongoing"==a&&n(s,a),t(a,e),setInterval((function(){"ongoing"==a&&n(s,a),t(a,e)}),5e3)}))})();